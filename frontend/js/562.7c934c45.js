"use strict";(self["webpackChunktemplate"]=self["webpackChunktemplate"]||[]).push([[562],{6562:function(a,t,e){e.r(t),e.d(t,{default:function(){return Oa}});var l=e(6252),o=e(3577),s=e(9963);const i=a=>((0,l.dD)("data-v-2fe42289"),a=a(),(0,l.Cn)(),a),n=i((()=>(0,l._)("div",{class:"header"},[(0,l._)("h2",null,"Organization Manager")],-1))),d=i((()=>(0,l._)("hr",null,null,-1))),c={class:"body"},r={class:"actions"},u={class:"row"},b=(0,l.uE)('<div class="col-sm-1" data-v-2fe42289><label for="filter" data-v-2fe42289>Filter by</label></div><div class="col-1" data-v-2fe42289><select name="" id="" class="form-select-sm" data-v-2fe42289><option value="" data-v-2fe42289>All</option><option value="" data-v-2fe42289>Active</option><option value="" data-v-2fe42289>Inactive</option></select></div><div class="col-4" data-v-2fe42289></div><div class="col-3" data-v-2fe42289><input type="text" placeholder="Search ..." class="form-control" data-v-2fe42289></div><div class="col" data-v-2fe42289><p class="action-button" data-v-2fe42289><button class="btn btn-outline-primary" title="Create" data-bs-toggle="modal" data-bs-target="#staticBackdrop" data-v-2fe42289><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16" data-v-2fe42289><path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" data-v-2fe42289></path><path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" data-v-2fe42289></path></svg> Create </button><button class="btn btn-outline-danger" title="Delete" data-v-2fe42289><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-x-fill" viewBox="0 0 16 16" data-v-2fe42289><path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z" data-v-2fe42289></path></svg> Remove </button></p></div><hr data-v-2fe42289>',6),m={class:"table-responsive-sm"},p={class:"table table-striped table-bordered table-hover"},h=i((()=>(0,l._)("th",null,"Code",-1))),g=i((()=>(0,l._)("th",null,"Name",-1))),v=i((()=>(0,l._)("th",null,"Orders",-1))),_=i((()=>(0,l._)("th",null,"Description",-1))),f=i((()=>(0,l._)("th",null,"ParentName",-1))),y=i((()=>(0,l._)("th",null,"User of Organization",-1))),w=i((()=>(0,l._)("th",null,"Action",-1))),z=i((()=>(0,l._)("td",{class:"col"},[(0,l._)("input",{type:"checkbox",class:"check"})],-1))),k={class:"col"},I={class:"col"},U={class:"col"},C={class:"col"},x={class:"col"},D={class:"col"},L=["onClick"],M=["onClick"],j=i((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pen-fill",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})],-1))),A=[j],S=["onClick"],V=i((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash3",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"})],-1))),Z=[V],q=i((()=>(0,l._)("div",{class:"table table-responsive"},null,-1))),H={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},P={class:"modal-dialog"},B={class:"modal-content"},$=i((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Thêm mới"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),N={class:"modal-body"},O={class:"form-floating mb-3"},E=i((()=>(0,l._)("label",{for:"floatingInput"},"Code",-1))),K={class:"form-floating mb-3"},T=i((()=>(0,l._)("label",{for:"floatingInput"},"Name",-1))),Y={class:"form-floating mb-3"},F=i((()=>(0,l._)("label",{for:"floatingInput"},"Orders",-1))),X={class:"form-floating mb-3"},R=i((()=>(0,l._)("label",{for:"floatingInput"},"Description",-1))),G={class:"form-floating mb-3"},J=i((()=>(0,l._)("option",{selected:"",disabled:""},"Choose parent",-1))),Q=["value"],W=i((()=>(0,l._)("label",{for:"floatingSelect"},"Parent",-1))),aa=i((()=>(0,l._)("div",{class:"row"},[(0,l._)("div",{class:"col-3 m-0 p-0"},[(0,l._)("button",{class:"btn btn-outline-success flex-lg-column"},"Thêm mới")])],-1))),ta=i((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close"},"Đóng")],-1))),ea={class:"modal fade",id:"confirm",tabindex:"-1","aria-labelledby":"confirm","aria-hidden":"true"},la={class:"modal-dialog"},oa={class:"modal-content"},sa=i((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Xác nhận"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ia=i((()=>(0,l._)("div",{class:"modal-body"}," Bạn có chắc muốn xóa bản ghi này không ? ",-1))),na={class:"modal-footer"},da=i((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close1"},"Không",-1))),ca={class:"modal fade",id:"update-modal",tabindex:"-1","aria-labelledby":"update-modal","aria-hidden":"true"},ra={class:"modal-dialog"},ua={class:"modal-content"},ba=i((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Cập nhật"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ma={class:"modal-body"},pa={class:"form-floating mb-3"},ha=i((()=>(0,l._)("label",{for:"floatingInput"},"Code",-1))),ga={class:"form-floating mb-3"},va=i((()=>(0,l._)("label",{for:"floatingInput"},"Name",-1))),_a={class:"form-floating mb-3"},fa=i((()=>(0,l._)("label",{for:"floatingInput"},"Description",-1))),ya=i((()=>(0,l._)("div",{class:"row"},[(0,l._)("div",{class:"col-3"},[(0,l._)("button",{class:"btn btn-outline-success"},"Cập nhật")])],-1))),wa=i((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))),za={class:"modal fade",id:"modal-detail",tabindex:"-1","aria-labelledby":"modal-detail","aria-hidden":"true"},ka={class:"modal-dialog"},Ia={class:"modal-content"},Ua=i((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"User of Organization"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ca={class:"modal-body table-responsive"},xa={class:"list"},Da={class:"form-floating mb-3"},La=i((()=>(0,l._)("option",{selected:""},"Vui lòng chọn user",-1))),Ma=["value"],ja=i((()=>(0,l._)("label",{for:"floatingInput"},"User",-1))),Aa={class:"table table-striped table-bordered table-hover"},Sa=i((()=>(0,l._)("thead",null,[(0,l._)("th",null," Id "),(0,l._)("th",null," organization name "),(0,l._)("th",null," user of organization ")],-1))),Va=i((()=>(0,l._)("div",{class:"row"},[(0,l._)("div",{class:"col-3"},[(0,l._)("button",{class:"btn btn-outline-success"},"Thêm")])],-1))),Za=i((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),(0,l._)("button",{type:"button",class:"btn btn-primary"},"Save changes")],-1)));function qa(a,t,e,i,j,V){return(0,l.wg)(),(0,l.iD)(l.HY,null,[n,d,(0,l._)("div",c,[(0,l._)("div",r,[(0,l._)("div",u,[b,(0,l._)("div",m,[(0,l._)("table",p,[(0,l._)("thead",null,[(0,l._)("th",null,[(0,l._)("input",{type:"checkbox",onChange:t[0]||(t[0]=(...a)=>V.checkAll&&V.checkAll(...a)),id:"check"},null,32)]),h,g,v,_,f,y,w]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.dataList,(a=>((0,l.wg)(),(0,l.iD)("tr",{class:"col",key:a},[z,(0,l._)("th",k,(0,o.zw)(a.code),1),(0,l._)("td",I,(0,o.zw)(a.name),1),(0,l._)("td",U,(0,o.zw)(a.orders),1),(0,l._)("td",C,(0,o.zw)(""==a.description?"N/A":a.description),1),(0,l._)("td",x,(0,o.zw)(null==a.organization?"N/A":a.organization.name),1),(0,l._)("td",D,[(0,l._)("span",{onClick:(0,s.iM)((t=>j.objDetail=a),["prevent"]),class:"detail badge text-bg-success","data-bs-toggle":"modal","data-bs-target":"#modal-detail"},"chi tiết",8,L)]),(0,l._)("td",null,[(0,l._)("span",null,[(0,l._)("button",{onClick:t=>j.objectUpdate=a,class:"btn btn-outline-primary",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#update-modal",id:"close2"},A,8,M),(0,l._)("button",{"data-bs-toggle":"modal","data-bs-target":"#confirm",class:"btn btn-outline-danger",title:"Delete",onClick:(0,s.iM)((t=>j.id=a.oraId),["prevent"])},Z,8,S)])])])))),128))])])])])]),q]),(0,l._)("div",H,[(0,l._)("div",P,[(0,l._)("div",B,[$,(0,l._)("div",N,[(0,l._)("form",{onSubmit:t[6]||(t[6]=(0,s.iM)(((...a)=>V.create&&V.create(...a)),["prevent"]))},[(0,l._)("div",O,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[1]||(t[1]=a=>j.organization.code=a),required:""},null,512),[[s.nr,j.organization.code]]),E]),(0,l._)("div",K,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=a=>j.organization.name=a),required:""},null,512),[[s.nr,j.organization.name]]),T]),(0,l._)("div",Y,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=a=>j.organization.orders=a),required:""},null,512),[[s.nr,j.organization.orders]]),F]),(0,l._)("div",X,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=a=>j.organization.description=a)},null,512),[[s.nr,j.organization.description]]),R]),(0,l._)("div",G,[(0,l.wy)((0,l._)("select",{class:"form-select",id:"floatingSelect","aria-label":"Floating label select example","onUpdate:modelValue":t[5]||(t[5]=a=>j.organization.organization.oraId=a)},[J,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.dataList,(a=>((0,l.wg)(),(0,l.iD)("option",{key:a,value:a.oraId},(0,o.zw)(a.name),9,Q)))),128))],512),[[s.bM,j.organization.organization.oraId]]),W]),aa],32)]),ta])])]),(0,l._)("div",ea,[(0,l._)("div",la,[(0,l._)("div",oa,[sa,ia,(0,l._)("div",na,[da,(0,l._)("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(0,s.iM)((a=>V.remove(j.id)),["prevent"]))},"Có")])])])]),(0,l._)("div",ca,[(0,l._)("div",ra,[(0,l._)("div",ua,[ba,(0,l._)("div",ma,[(0,l._)("form",{onSubmit:t[11]||(t[11]=(0,s.iM)((a=>V.updateById(j.objectUpdate.oraId)),["prevent"]))},[(0,l._)("div",pa,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[8]||(t[8]=a=>j.objectUpdate.code=a),required:"",readonly:""},null,512),[[s.nr,j.objectUpdate.code]]),ha]),(0,l._)("div",ga,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=a=>j.objectUpdate.name=a),required:""},null,512),[[s.nr,j.objectUpdate.name]]),va]),(0,l._)("div",_a,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=a=>j.objectUpdate.description=a),required:""},null,512),[[s.nr,j.objectUpdate.description]]),fa]),ya],32)]),wa])])]),(0,l._)("div",za,[(0,l._)("div",ka,[(0,l._)("div",Ia,[Ua,(0,l._)("div",Ca,[(0,l._)("form",{onSubmit:t[13]||(t[13]=(0,s.iM)(((...a)=>V.addUser&&V.addUser(...a)),["prevent"]))},[(0,l.Uk)((0,o.zw)(j.objDetail.oraId)+" ",1),(0,l._)("div",xa,[(0,l._)("div",Da,[(0,l.wy)((0,l._)("select",{class:"form-select",id:"floatingInput","onUpdate:modelValue":t[12]||(t[12]=a=>j.idUser=a)},[La,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.users,(a=>((0,l.wg)(),(0,l.iD)("option",{key:a.userId,value:a.userId},(0,o.zw)(a.username),9,Ma)))),128))],512),[[s.bM,j.idUser]]),ja])]),(0,l._)("table",Aa,[Sa,(0,l._)("tbody",null,[(0,l._)("th",null,(0,o.zw)(j.objDetail.oraId),1),(0,l._)("th",null,(0,o.zw)(j.objDetail.name),1),(0,l._)("td",null,[(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.objDetail.users,(a=>((0,l.wg)(),(0,l.iD)("li",{key:a},(0,o.zw)(a.username),1)))),128))])])])]),Va],32)]),Za])])])],64)}e(7658);var Ha=e(196),Pa=[],Ba={name:"OrganizationManager",components:{},data(){return{dataList:Pa,organization:{code:"",name:"",orders:"",description:"",organization:{oraId:""}},checked:[],id:"",objectUpdate:{},objDetail:{oraId:"",name:"",users:[]},users:[],idUser:""}},created(){this.getData(),this.getAllUser(),Ha.ZP.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token")},methods:{getData(){Ha.ZP.get("/api/organization/get").then((a=>{Pa=a.data,this.dataList=Pa})).catch((a=>{console.log(a),this.$toast.error("Permission denied")}))},create(){console.log(this.organization),Ha.ZP.post("/api/organization/save",this.organization).then((a=>{console.log(a.data),this.getData(),document.querySelector("#close").click(),this.$toast.success("Thêm mới thành công")}))},remove(a){Ha.ZP["delete"]("/api/organization/delete/"+a).then((a=>{this.getData(),document.querySelector("#close1").click(),this.$toast.success("Xóa thành công")})).catch((a=>{this.$toast.error("Permission denied")}))},getAllListId(){let a=document.querySelectorAll(".check");return a.forEach((a=>{a.checked&&this.ids.push(a.value)})),this.ids},checkAll(){var a=document.querySelector("#check"),t=document.querySelectorAll(".check");a.checked?t.forEach((a=>{a.checked=!0})):t.forEach((a=>{a.checked=!1}))},updateById(){Ha.ZP.put("/api/organization/update/"+this.objectUpdate.oraId,this.objectUpdate).then((a=>{this.getData(),a.data,document.querySelector("#close2").click(),this.$toast.success("Cập nhật thành công")})).catch((a=>{this.$toast.error("Permission denied")}))},getAllUser(){Ha.ZP.get("/api/user/get").then((a=>{this.users=a.data}))},async addUser(){Ha.ZP.post("/api/organization/add-user/",this.objDetail,{params:{idUser:await this.idUser}}).then((a=>{this.getData(),a.data,document.querySelector("#close3").click(),this.$toast.success("Thêm thành công")})).catch((a=>{this.$toast.error("Permission denied")}))}}},$a=e(3744);const Na=(0,$a.Z)(Ba,[["render",qa],["__scopeId","data-v-2fe42289"]]);var Oa=Na}}]);
//# sourceMappingURL=562.7c934c45.js.map