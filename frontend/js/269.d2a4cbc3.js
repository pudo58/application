"use strict";(self["webpackChunktemplate"]=self["webpackChunktemplate"]||[]).push([[269],{269:function(e,t,l){l.r(t),l.d(t,{default:function(){return ge}});var a=l(6252),o=l(3577),s=l(9963);const n=(0,a._)("div",{class:"header"},[(0,a._)("h2",null,"Resource Manager")],-1),r=(0,a._)("hr",null,null,-1),c={class:"body"},i={class:"actions"},d={class:"row"},u=(0,a.uE)('<div class="col-sm-1"><label for="filter">Filter by</label></div><div class="col-1"><select name="" id="" class="form-select-sm"><option value="">All</option><option value="">Active</option><option value="">Inactive</option></select></div><div class="col-4"></div><div class="col-3"><input type="text" placeholder="Search ..." class="form-control"></div><div class="col"><p class="action-button"><button class="btn btn-outline-primary" title="Create" data-bs-toggle="modal" data-bs-target="#staticBackdrop1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16"><path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path><path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"></path></svg> Create </button><button class="btn btn-outline-danger" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-x-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"></path></svg> Remove </button></p></div><hr>',6),p={class:"table-responsive-sm"},b={class:"table table-striped table-bordered table-hover"},m=(0,a._)("thead",null,[(0,a._)("th",null,[(0,a._)("input",{type:"checkbox",id:"check"})]),(0,a._)("th",null,"Code"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Description"),(0,a._)("th",null,"Orders"),(0,a._)("th",null,"Url"),(0,a._)("th",null,"Parent name"),(0,a._)("th",null,"Role"),(0,a._)("th",null,"Action")],-1),h=(0,a._)("th",{class:"col"},[(0,a._)("input",{type:"checkbox",id:"check"})],-1),_={class:"col"},f={class:"col"},g={class:"col"},v={class:"col"},y={class:"col"},w={class:"col"},k=(0,a._)("td",{class:"col"},[(0,a._)("span",{class:"badge text-bg-success"},"detail")],-1),I=["onClick"],x=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pen-fill",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"})],-1),C=[x],E=["onClick"],B=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash3",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"})],-1),M=[B],z={class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},R={class:"modal-dialog"},V={class:"modal-content"},U=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Create"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),D={class:"modal-body"},L={class:"form-floating mb-3"},Z=(0,a._)("label",{for:"floatingInput"},"Code",-1),A={class:"form-floating mb-3"},H=(0,a._)("label",{for:"floatingInput"},"Name",-1),P={class:"form-floating mb-3"},$=(0,a._)("label",{for:"floatingInput"},"Description",-1),S={class:"form-floating mb-3"},N=(0,a._)("label",{for:"floatingInput"},"Orders",-1),T={class:"form-floating mb-3"},O=(0,a._)("label",{for:"floatingInput"},"url",-1),Y={class:"form-floating mb-3"},K=(0,a._)("option",{selected:"",disabled:""},"Choose Parent",-1),F=["value"],j=(0,a._)("label",{for:"floatingInput"},"Parent",-1),q=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-2"},[(0,a._)("button",{class:"btn btn-outline-success"},"Create")])],-1),G=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close"},"Close")],-1),J={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Q={class:"modal-dialog"},W={class:"modal-content"},X=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Update"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ee={class:"modal-body"},te={class:"form-floating mb-3"},le=(0,a._)("label",{for:"floatingInput"},"Code",-1),ae={class:"form-floating mb-3"},oe=(0,a._)("label",{for:"floatingInput"},"Name",-1),se={class:"form-floating mb-3"},ne=(0,a._)("label",{for:"floatingInput"},"Description",-1),re={class:"form-floating mb-3"},ce=(0,a._)("label",{for:"floatingInput"},"Orders",-1),ie={class:"form-floating mb-3"},de=(0,a._)("label",{for:"floatingInput"},"url",-1),ue=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-2"},[(0,a._)("button",{class:"btn btn-outline-success"},"Update")])],-1),pe=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close1"},"Close")],-1);function be(e,t,l,x,B,be){return(0,a.wg)(),(0,a.iD)(a.HY,null,[n,r,(0,a._)("div",c,[(0,a._)("div",i,[(0,a._)("div",d,[u,(0,a._)("div",p,[(0,a._)("table",b,[m,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(B.resources,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[h,(0,a._)("td",_,(0,o.zw)(e.code),1),(0,a._)("td",f,(0,o.zw)(e.name),1),(0,a._)("td",g,(0,o.zw)(e.description),1),(0,a._)("td",v,(0,o.zw)(e.order),1),(0,a._)("td",y,(0,o.zw)(e.url),1),(0,a._)("td",w,[(0,a._)("span",{class:(0,o.C_)({"badge text-bg-danger":null==e.resource})},(0,o.zw)(null==e.resource?"Null parent":e.resource.name),3)]),k,(0,a._)("td",null,[(0,a._)("span",null,[(0,a._)("button",{onClick:(0,s.iM)((t=>B.updateEntity=e),["prevent"]),class:"btn btn-outline-primary",title:"Edit","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},C,8,I),(0,a._)("button",{onClick:(0,s.iM)((t=>be.deleteById(e.resourceId)),["prevent"]),class:"btn btn-outline-danger",title:"Delete"},M,8,E)])])])))),128))])])])])])]),(0,a._)("div",z,[(0,a._)("div",R,[(0,a._)("div",V,[U,(0,a._)("div",D,[(0,a._)("form",{onSubmit:t[6]||(t[6]=(0,s.iM)(((...e)=>be.createResource&&be.createResource(...e)),["prevent"]))},[(0,a._)("div",L,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[0]||(t[0]=e=>B.resource.code=e)},null,512),[[s.nr,B.resource.code]]),Z]),(0,a._)("div",A,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[1]||(t[1]=e=>B.resource.name=e)},null,512),[[s.nr,B.resource.name]]),H]),(0,a._)("div",P,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=e=>B.resource.description=e)},null,512),[[s.nr,B.resource.description]]),$]),(0,a._)("div",S,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=e=>B.resource.order=e)},null,512),[[s.nr,B.resource.order]]),N]),(0,a._)("div",T,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=e=>B.resource.url=e)},null,512),[[s.nr,B.resource.url]]),O]),(0,a._)("div",Y,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"floatingInput","onUpdate:modelValue":t[5]||(t[5]=e=>B.resource.resource.resourceId=e)},[K,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(B.resources,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e.resourceId},(0,o.zw)(e.name),9,F)))),128))],512),[[s.bM,B.resource.resource.resourceId]]),j]),q],32)]),G])])]),(0,a._)("div",J,[(0,a._)("div",Q,[(0,a._)("div",W,[X,(0,a._)("div",ee,[(0,a._)("form",{onSubmit:t[12]||(t[12]=(0,s.iM)(((...e)=>be.updateResource&&be.updateResource(...e)),["prevent"]))},[(0,a._)("div",te,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=e=>B.updateEntity.code=e),readonly:""},null,512),[[s.nr,B.updateEntity.code]]),le]),(0,a._)("div",ae,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[8]||(t[8]=e=>B.updateEntity.name=e)},null,512),[[s.nr,B.updateEntity.name]]),oe]),(0,a._)("div",se,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=e=>B.updateEntity.description=e)},null,512),[[s.nr,B.updateEntity.description]]),ne]),(0,a._)("div",re,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=e=>B.updateEntity.order=e)},null,512),[[s.nr,B.updateEntity.order]]),ce]),(0,a._)("div",ie,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"","onUpdate:modelValue":t[11]||(t[11]=e=>B.updateEntity.url=e)},null,512),[[s.nr,B.updateEntity.url]]),de]),ue],32)]),pe])])])],64)}var me=l(196),he={name:"ResourceManager",data(){return{resources:[],resource:{code:"",name:"",description:"",order:"",url:"",resource:{resourceId:""}},updateEntity:{}}},methods:{getResource(){me.ZP.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),me.ZP.get("/api/resource/get").then((e=>{this.resources=e.data})).catch((e=>{this.getAccessToken()}))},createResource(){me.ZP.post("/api/resource/save",this.resource).then((e=>{this.getResource(),document.getElementById("close").click(),this.$parent.$parent.getDynamicMenu()})).catch((e=>{this.getAccessToken()}))},deleteById(e){me.ZP["delete"]("/api/resource/delete/"+e).then((e=>{this.getResource(),this.$parent.$parent.getDynamicMenu()})).catch((e=>{console.log(e),this.getAccessToken()}))},updateResource(){me.ZP.put("/api/resource/update/"+this.updateEntity.resourceId,this.updateEntity).then((e=>{this.getResource(),document.getElementById("close1").click(),this.$parent.$parent.getDynamicMenu()}))},async getAccessToken(){me.ZP.post("/api/user/token/refresh").then((async e=>{localStorage.setItem("token",e.data.access_token)})).catch((e=>{console.log(e)}))}},created(){this.getResource()}},_e=l(3744);const fe=(0,_e.Z)(he,[["render",be]]);var ge=fe}}]);
//# sourceMappingURL=269.d2a4cbc3.js.map